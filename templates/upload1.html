<!DOCTYPE html>
<html>
<head>
<title>Upload</title>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</head>
<body style="margin: 0; padding: 0; background-image: url('./static/bg7.jpg');">
    <div style="background-color: rgba(104, 103, 109, 0.26); height: 50%; width: 50%; position: absolute; top: 20%;
    left: 25%; background-image: linear-gradient(#343a3f26 0%, #2325284f 100%); border: none; 
    box-shadow: 12px 11px 14px #201f1f; border-radius: 20px; display: flex; justify-content: center; align-items: self-start;">
        <h1 style="color: #ffffff; margin-top: 75px; margin-left: 10px; position: absolute;">Scene Finder</h1>
        <form id="upload-form" action="{{ url_for('upload1') }}" method="POST" enctype="multipart/form-data" style="margin-top: 130px;">

            <input id="file-picker" type="file" name="file" accept="video/*" multiple>    
            <!-- <div id="msg"></div> -->
            <input type="submit" value="Upload" id="upload-button" style="border: 2px solid #e4e5e7; background-color: #e4e4e4;
                                                                           box-shadow: 5px 6px 5px #484646; 
                                                                            margin-top: 15px;
                                                                            padding: 5px 30px;
                                                                            border-radius: 4px;
                                                                            letter-spacing: 1px;
                                                                            color: #000;
                                                                            transition: 0.4s;">
        </form>
        <form action=" {{ url_for('get_gallery1') }}">
            <button style="margin-top: 218px;  margin-left: -251px; border: 2px solid #e4e5e7; 
            background-color: #e4e4e4; box-shadow: 5px 6px 5px #484646;
            padding: 5px 30px;
            border-radius: 4px;
            letter-spacing: 1px;
            transition: 0.4s;">Play Video</button>
        </form>
    </div>

</body>
<script>

    $("#file-picker").change(function(){

        var input = document.getElementById('file-picker');

        for (var i=0; i<input.files.length; i++)
        {
        //koala.jpg, koala.JPG substring(index) lastIndexOf('a') koala.1.jpg
            var ext= input.files[i].name.substring(input.files[i].name.lastIndexOf('.')+1).toLowerCase()

            if ((ext == 'jpg') || (ext == 'mp4'))
            {
                $("#msg").text("Files are supported")
            }
            else
            {
                $("#msg").text("Files are NOT supported")
                document.getElementById("file-picker").value ="";
            }
        }
    } );

</script>
</html>